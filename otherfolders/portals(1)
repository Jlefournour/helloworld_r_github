function SetDateBehaviour(){var n,t;if(Modernizr.inputtypes.date)t=$("input[type=date]"),t.each(function(){($(this).val()==="01/01/0001 00:00:00"||$(this).val()==="1/1/0001 12:00:00 AM"||$(this).val()==="0001-01-01")&&$(this).val("")});else{n=$("input[type=date]");try{delete $.validator.methods.date}catch(i){console.log("ModernizrDates: "+i.message)}n.each(function(){var n,t,i;($(this).val()==="01/01/0001 00:00:00"||$(this).val()==="1/1/0001 12:00:00 AM"||$(this).val()==="0001-01-01")&&$(this).val("");try{n=$.datepicker.parseDate("yy-mm-dd",$(this).val())}catch(r){n=undefined}if(n===undefined)try{n=$.datepicker.parseDate("dd/mm/yy",$(this).val())}catch(r){n=undefined}if(n===undefined)try{n=$.datepicker.parseDate("d-MM-yy",$(this).val())}catch(r){$(this).val("");n=null}$(this).datepicker({showAnim:"slideDown",changeMonth:!0,changeYear:!0,defaultDate:n,dateFormat:"dd-MM-yy",beforeShow:function(){setTimeout(function(){$(".ui-datepicker").css("z-index",9999)},0)}});try{$(this).rules("remove","date")}catch(r){console.log("ModernizrDates: "+r.message)}t=$(this).datepicker("getDate");i="";t!=null&&(i=pad(t.getDate())+"-"+monthNames[t.getMonth()]+"-"+t.getFullYear());$(this).val(i)})}}function pad(n){return n<10?"0"+n:n}function setPopover(){$(this).data("content")!=null&&$(this).popover({trigger:"focus",title:'<i class="icon-info-sign"><\/i>',html:!0,container:"body"})}function setPopoverOnHover(){$(this).data("content")!=null&&$(this).popover({trigger:"hover",title:'<i class="icon-info-sign"><\/i>',placement:"top",html:!0,container:"body"})}function enableSubmitButton(){$("#submitButton").removeAttr("disabled")}function disableSubmitButton(){$("#submitButton").attr("disabled","disabled")}function clearNoAddressValidation(){$("#fieldInformationAddress").empty();$("#fieldInformationAddress").addClass("empty")}function populatePreviousAddress(n){n.addressid===null?showNoAddress():(clearNoAddressValidation(),$("#OneAddressId").val(n.addressid),$("#HouseNo").val(n.houseno),$("#HouseName").val(n.housename),$("#Address1").val(n.address1),$("#Address3").val(n.address3),$("#Apartment").val(n.apartment),$("#Town").val(n.town),$("#County").val(n.county),$('#Country option[value="'+n.country+'"]').attr("selected","selected"),$("#Postcode").val(n.postcode),$("#NoPostcode").hide());updateCountryChosenList()}function showAddress(n){n.addressid===null?showNoAddress():(showAddressFields(),clearNoAddressValidation(),$("#OneAddressId").val(n.addressid),$("#HouseNo").val(n.HouseNo),$("#HouseName").val(n.HouseName),$("#Address1").val(n.Address1),$("#Apartment").val(n.Apartment),$("#Address3").val(n.Address3),$("#Town").val(n.Town),$("#County").val(n.County),$("#Postcode").val(n.PostCode),$('#Country option[value="'+n.Country+'"]').attr("selected","selected"),updateCountryChosenList(),enableSubmitButton())}function showNoAddress(){var n=$("#NoAddressFoundInformation").val();$("#fieldInformationAddress").empty();$("#fieldInformationAddress").append(n);$("#fieldInformationAddress").removeClass("empty");clearAddressFields();disableSubmitButton();hideAddressFields();$("#EnterAddressManually").show()}function clearAddressFields(){$(".hideableAddress input, .hideableAddress select","#AddressMaintenance").val("");$("#OneAddressId").val("");updateCountryChosenList()}function clearPostcode(){$("#Postcode").val("")}function initialFindAddressSettings(){$("#DivInnerAddressList").hide();$("#buttonContainerDiv").hide();hideAddressFields()}function hideResultsDiv(){$("#DivInnerAddressList").hide();$("#buttonContainerDiv").hide();enableSubmitButton()}function showResultsDiv(){$("#DivInnerAddressList").show();$("#buttonContainerDiv").show();hideAddressFields();disableSubmitButton()}function manuallyEnterAddressEnable(){clearAddressFields();enableSubmitButton();showAddressFields();$("#EnterAddressManually").hide();clearNoAddressValidation();hideResultsDiv()}function showAddressFields(){$(".hideableAddress","#AddressMaintenance").show()}function hideAddressFields(){$(".hideableAddress","#AddressMaintenance").hide()}function displayValidationError(n){$("#fieldInformationAddress").append(n);$("#fieldInformationAddress").removeClass("empty");hideAddressFields();hideResultsDiv()}function findAddressSearching(){var n=$("#buttonFindAddress");n.val(n.data("loading-text"));n.attr("disabled","disabled")}function enableFindAddress(){var n=$("#buttonFindAddress");n.val(n.data("find-text"));n.removeAttr("disabled")}function validatePostcode(n){$("#NoPostcode").hide();var i=$("#Postcode").val(),t;return(clearNoAddressValidation(),i==="")?(t=$("#PostcodeRequired").val(),displayValidationError(t),disableSubmitButton(),n!=undefined&&n.preventDefault(),!1):i.trim().length>8?(t=$("#MaxLengthPostcode").val(),displayValidationError(t),disableSubmitButton(),n!=undefined&&n.preventDefault(),!1):!0}$(document).ready(function(){try{SetDateBehaviour()}catch(n){console.log("ModernizrDates: "+n.message)}});var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];$(document).ready(function(){$("input").each(setPopover);$("select").each(setPopover);$("textarea").each(setPopover);$(".incomplete-application").each(setPopoverOnHover)});$(document).ready(function(){$(".printButton").on("click",function(){window.print()})});!function(n){"use strict";n.fn.bootstrapSwitch=function(t){var i={init:function(){return this.each(function(){var t=n(this),e,o,s,h,r="",v=t.attr("class"),i,u,l="ON",a="OFF",c=!1,f;n.each(["switch-mini","switch-small","switch-large"],function(n,t){v.indexOf(t)>=0&&(r=t)});t.addClass("has-switch");t.data("on")!==undefined&&(i="switch-"+t.data("on"));t.data("on-label")!==undefined&&(l=t.data("on-label"));t.data("off-label")!==undefined&&(a=t.data("off-label"));t.data("icon")!==undefined&&(c=t.data("icon"));o=n("<span>").addClass("switch-left").addClass(r).addClass(i).html(l);i="";t.data("off")!==undefined&&(i="switch-"+t.data("off"));s=n("<span>").addClass("switch-right").addClass(r).addClass(i).html(a);h=n("<label>").html("&nbsp;").addClass(r).attr("for",t.find("input").attr("id"));c&&h.html('<i class="icon icon-'+c+'"><\/i>');e=t.find(":checkbox").wrap(n("<div>")).parent().data("animated",!1);t.data("animated")!==!1&&e.addClass("switch-animate").data("animated",!0);e.append(o).append(h).append(s);t.find(">div").addClass(t.find("input").is(":checked")?"switch-on":"switch-off");t.find("input").is(":disabled")&&n(this).addClass("deactivate");f=function(n){n.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};t.on("keydown",function(t){t.keyCode===32&&(t.stopImmediatePropagation(),t.preventDefault(),f(n(t.target).find("span:first")))});o.on("click",function(){f(n(this))});s.on("click",function(){f(n(this))});t.find("input").on("change",function(t){var r=n(this),i=r.parent(),u=r.is(":checked"),f=i.is(".switch-off");t.preventDefault();i.css("left","");f===u&&(u?i.removeClass("switch-off").addClass("switch-on"):i.removeClass("switch-on").addClass("switch-off"),i.data("animated")!==!1&&i.addClass("switch-animate"),i.parent().trigger("switch-change",{el:r,value:u}))});t.find("label").on("mousedown touchstart",function(t){var i=n(this);if(u=!1,t.preventDefault(),t.stopImmediatePropagation(),i.closest("div").removeClass("switch-animate"),i.closest(".has-switch").is(".deactivate"))i.unbind("click");else{i.on("mousemove touchmove",function(t){var r=n(this).closest(".switch"),o=(t.pageX||t.originalEvent.targetTouches[0].pageX)-r.offset().left,i=o/r.width()*100,e=25,f=75;u=!0;i<e?i=e:i>f&&(i=f);r.find(">div").css("left",i-f+"%")});i.on("click touchend",function(t){var r=n(this),f=n(t.target),i=f.siblings("input");t.stopImmediatePropagation();t.preventDefault();r.unbind("mouseleave");u?i.prop("checked",!(parseInt(r.parent().css("left"))<-25)):i.prop("checked",!i.is(":checked"));u=!1;i.trigger("change")});i.on("mouseleave",function(t){var i=n(this),r=i.siblings("input");t.preventDefault();t.stopImmediatePropagation();i.unbind("mouseleave");i.trigger("mouseup");r.prop("checked",!(parseInt(i.parent().css("left"))<-25)).trigger("change")});i.on("mouseup",function(t){t.stopImmediatePropagation();t.preventDefault();n(this).unbind("mousemove")})}})})},toggleActivation:function(){n(this).toggleClass("deactivate")},isActive:function(){return!n(this).hasClass("deactivate")},setActive:function(t){t?n(this).removeClass("deactivate"):n(this).addClass("deactivate")},toggleState:function(t){var i=n(this).find("input:checkbox");i.prop("checked",!i.is(":checked")).trigger("change",t)},setState:function(t,i){n(this).find("input:checkbox").prop("checked",t).trigger("change",i)},status:function(){return n(this).find("input:checkbox").is(":checked")},destroy:function(){var i=n(this).find("div"),t;return i.find(":not(input:checkbox)").remove(),t=i.children(),t.unwrap().unwrap(),t.unbind("change"),t}};if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist!");else return i.init.apply(this,arguments)}}(jQuery);$(function(){$(".switch").bootstrapSwitch()});$(document).ready(function(){$(".javascript-hide").removeClass("javascript-hide");$(".javascript-show").addClass("initialHidden");$(".tab-content").children().addClass("tab-pane")});AddAntiForgeryToken=function(n){return n.__RequestVerificationToken=$("input[name=__RequestVerificationToken]").val(),n};updateCountryChosenList=function(){$("#Country.chosen-select").trigger("chosen:updated")};$(document).ready(function(){function i(n){var i,t;if(n.error===undefined){for(clearNoAddressValidation(),$("#CurrentAddress_AddressId_Selected").find("option").remove().end(),i="",t=0;t<n.length;t++)i+="<Option value="+n[t].AddressID+">"+n[t].OneLineAddress+"<\/Option>";$("#CurrentAddress_AddressId_Selected").append(i);showResultsDiv();$("#SearchPostcode_error").html("")}else $("#SearchPostcode_error").html(n.error),hideResultsDiv()}function n(){if(validatePostcode()){var n=$("#Postcode").val();findAddressSearching();clearAddressFields();hideResultsDiv();url=$("#FindAddressURL").val();$.ajax({type:"POST",url:url,dataType:"json",data:{postcode:n},success:function(n){n.length===1?(showAddress(n[0]),$("#EnterAddressManually").hide()):n.length>1?(i(n),$("#EnterAddressManually").show()):showNoAddress();$("#CurrentAddress_AddressId_Selected").attr("data-content",$("#AddressResultsTooltip").val());$("#CurrentAddress_AddressId_Selected").find("option").on("dblclick",t)},error:function(n,t,i){$("fieldInformationAddress").append(i);showAddress({})},complete:function(){enableFindAddress()}})}}function t(){var n=$("#CurrentAddress_AddressId_Selected option:selected").val(),t;return n===undefined?!1:(showAddressFields(),$("#EnterAddressManually").hide(),t=$("#FindAddressDetails").val(),n!==null&&($.ajax({type:"GET",dataType:"text",url:t,data:{addressId:n},async:!1,success:function(n){n=JSON.parse(n);hideResultsDiv();$("#OneAddressId").val(n.AddressID);$("#HouseNo").val(n.HouseNo);$("#HouseName").val(n.HouseName);$("#Address1").val(n.Address1);$("#Apartment").val(n.Apartment);$("#Address3").val(n.Address3);$("#Town").val(n.Town);$("#County").val(n.County);$("#Postcode").val(n.Postcode);var t=$("#Country option").filter(function(){return $(this).html()==n.Country}).val();$('#Country option[value="'+t+'"]').attr("selected","selected");enableSubmitButton()},error:function(n,t,i){$("#SearchPostcode_error").html(i+" error occurred.")}}),updateCountryChosenList()),!1)}$("#HouseNo").val()===""&&$("#HouseName").val()===""&&$("#Address1").val()===""&&$("#Postcode").val()===""?hideAddressFields():$("#NoPostcode").hide();$("#EnterAddressManually").hide();$("#NoPostcode").on("click",function(){$(this).hide();manuallyEnterAddressEnable()});$("#EnterAddressManually").on("click",function(){manuallyEnterAddressEnable()});$("#buttonFindAddress").on("click",function(){n()});$("#Postcode").on("keydown",function(t){return t.keyCode===13?(n(),!1):!0});$("#selectButton").on("click",t)});!function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return u({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return r||(r=i()),t=n("#"+r.containerId),t.length?t:(u&&(t=nt(r)),t)}function y(n,t,r){return u({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){o=n}function w(n,t,r){return u({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return u({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n){var u=i();t||r(u);h(n,u)||g(u)}function d(u){var f=i();return t||r(f),u&&0===n(":focus",u).length?void e(u):void(t.children().length&&t.remove())}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)h(n(u[r]),i)}function h(t,i){return t&&0===n(":focus",t).length?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){e(t)}}),!0):!1}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;<\/button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function c(n){o&&o(n)}function u(u){function v(t){if(!n(":focus",o).length||t)return(clearTimeout(h.intervalId),o[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){e(o);f.onHidden&&"hidden"!==a.state&&f.onHidden();a.state="hidden";a.endTime=new Date;c(a)}}))}function g(){(f.timeOut>0||f.extendedTimeOut>0)&&(w=setTimeout(v,f.extendedTimeOut),h.maxHideTime=parseFloat(f.extendedTimeOut),h.hideEta=(new Date).getTime()+h.maxHideTime)}function nt(){clearTimeout(w);h.hideEta=0;o.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function tt(){var n=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;b.width(n+"%")}var f=i(),p=u.iconClass||f.iconClass;if("undefined"!=typeof u.optionsOverride&&(f=n.extend(f,u.optionsOverride),p=u.optionsOverride.iconClass||p),f.preventDuplicates){if(u.message===s)return;s=u.message}l++;t=r(f,!0);var w=null,o=n("<div/>"),k=n("<div/>"),d=n("<div/>"),b=n("<div/>"),y=n(f.closeHtml),h={intervalId:null,hideEta:null,maxHideTime:null},a={toastId:l,state:"visible",startTime:new Date,options:f,map:u};return u.iconClass&&o.addClass(f.toastClass).addClass(p),u.title&&(k.append(u.title).addClass(f.titleClass),o.append(k)),u.message&&(d.append(u.message).addClass(f.messageClass),o.append(d)),f.closeButton&&(y.addClass("toast-close-button").attr("role","button"),o.prepend(y)),f.progressBar&&(b.addClass("toast-progress"),o.prepend(b)),o.hide(),f.newestOnTop?t.prepend(o):t.append(o),o[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(w=setTimeout(v,f.timeOut),h.maxHideTime=parseFloat(f.timeOut),h.hideEta=(new Date).getTime()+h.maxHideTime,f.progressBar&&(h.intervalId=setInterval(tt,10))),o.hover(nt,g),!f.onclick&&f.tapToDismiss&&o.click(v),f.closeButton&&y&&y.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0);v(!0)}),f.onclick&&o.click(function(){f.onclick();v()}),c(a),f.debug&&console&&console.log(a),o}function i(){return n.extend({},tt(),a.options)}function e(n){t||(t=r());n.is(":visible")||(n.remove(),n=null,0===t.children().length&&(t.remove(),s=void 0))}var t,o,s,l=0,f={error:"error",info:"info",success:"success",warning:"warning"},a={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.0",warning:b};return a}()})}("function"==typeof define&&define.amd?define:function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})